<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        function login() {
            var account = document.getElementById("account").value;
            var password = document.getElementById("password").value;
            var xhr = new XMLHttpRequest();
            xhr.open("get", "/shop/login.api?account=" + account + "&password=" + password);
            xhr.onreadystatechange = function (ev) {
                if (xhr.readyState ==4 && xhr.status ==200){
                    var result = JSON.parse(xhr.responseText);
                    if (result.status == "OK") {//登录成功，跳转到主页面
                        alert("登录成功");
                        location.href = "/shop/index.html";
                    } else {//登录失败，告知用户失败的原因
                        alert(result.msg);
                    }
                }
            }
            xhr.send();
        }
    </script>
</head>
<body>
    <h1>商城用户登录页面</h1>
    <span>用户名:</span><input type="text" id="account"/> <br/>
    <span>密码：</span><input type="password" id="password"/> <br/>
    <button onclick="login()">登录</button>
    <a href="/shop/Register.html">还没有账号? 去注册~！</a>
</body>
</html>